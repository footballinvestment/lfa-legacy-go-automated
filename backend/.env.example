# === .env.example ===
# LFA Legacy GO - Environment Configuration with Weather Integration

# === APPLICATION SETTINGS ===
ENVIRONMENT=development
DEBUG=true
SECRET_KEY=your-super-secret-jwt-key-min-256-bits-recommended
PORT=8000

# === DATABASE SETTINGS ===
# Development (SQLite)
DATABASE_URL=sqlite:///./lfa_legacy_go.db

# Production (PostgreSQL)
# DATABASE_URL=postgresql://username:password@localhost:5432/lfa_legacy_go

# === JWT AUTHENTICATION ===
JWT_SECRET_KEY=your-jwt-secret-key-should-be-long-and-random
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=1440
JWT_REFRESH_TOKEN_EXPIRE_DAYS=30

# === WEATHER INTEGRATION ===
# OpenWeatherMap API Configuration
OPENWEATHERMAP_API_KEY=your_openweathermap_api_key_here
WEATHER_UPDATE_INTERVAL=1800  # 30 minutes in seconds
WEATHER_ALERT_CHECK_INTERVAL=900  # 15 minutes in seconds

# Weather API Settings
WEATHER_API_TIMEOUT=10  # seconds
WEATHER_API_RETRY_COUNT=3
WEATHER_CACHE_DURATION=1800  # 30 minutes in seconds

# === BACKGROUND TASK PROCESSING (Optional) ===
# Redis Configuration for Celery (if using advanced features)
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
REDIS_URL=redis://localhost:6379/0

# === EMAIL NOTIFICATIONS (Optional) ===
# SMTP Configuration for weather alerts
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_TLS=true
SMTP_SSL=false

# Email Templates
FROM_EMAIL=noreply@lfalegoago.com
WEATHER_ALERT_ENABLED=true
BOOKING_CONFIRMATION_ENABLED=true

# === PUSH NOTIFICATIONS (Optional) ===
# Firebase Cloud Messaging for mobile notifications
FCM_SERVER_KEY=your-fcm-server-key
FCM_SENDER_ID=your-fcm-sender-id
PUSH_NOTIFICATIONS_ENABLED=false

# === API RATE LIMITING ===
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# === CORS SETTINGS ===
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,https://yourdomain.com
CORS_CREDENTIALS=true

# === LOGGING ===
LOG_LEVEL=INFO
LOG_FILE=lfa_legacy_go.log
LOG_ROTATION=daily
LOG_RETENTION_DAYS=30

# === SECURITY ===
BCRYPT_ROUNDS=12
SESSION_COOKIE_SECURE=false  # Set to true in production with HTTPS
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax

# Admin User Configuration (CRITICAL: Must be set for security!)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=YourSecureAdminPassword123!
ADMIN_EMAIL=admin@yourdomain.com
ADMIN_FULL_NAME=System Administrator

# SECURITY WARNING: 
# - ADMIN_PASSWORD must be at least 12 characters
# - Must include uppercase, lowercase, numbers, and special characters
# - Never use default passwords in production
# - Change this immediately after deployment

# === PAYMENT INTEGRATION (Future) ===
# Stripe Configuration
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# PayPal Configuration
PAYPAL_CLIENT_ID=your_paypal_client_id
PAYPAL_CLIENT_SECRET=your_paypal_client_secret
PAYPAL_MODE=sandbox  # sandbox or live

# === MONITORING & ANALYTICS (Optional) ===
# Sentry Error Tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=development

# Google Analytics
GA_TRACKING_ID=UA-XXXXXXXXX-X

# === PERFORMANCE SETTINGS ===
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30

# Caching
CACHE_ENABLED=true
CACHE_TTL=3600  # 1 hour in seconds

# === DEVELOPMENT SETTINGS ===
# Auto-reload and debugging
RELOAD=true
ACCESS_LOG=true
WORKERS=1  # Use 1 for development, scale for production

# API Documentation
DOCS_URL=/docs
REDOC_URL=/redoc
INCLUDE_IN_SCHEMA=true

# === BUSINESS LOGIC SETTINGS ===
# Credit System
DEFAULT_STARTING_CREDITS=5
MAX_CREDITS_PER_USER=1000
CREDIT_EXPIRY_DAYS=365

# Booking System
MAX_ADVANCE_BOOKING_DAYS=30
MIN_ADVANCE_BOOKING_MINUTES=30
DEFAULT_SESSION_DURATION_MINUTES=60

# Weather Integration
WEATHER_DEPENDENT_GAMES=GAME1,GAME2,GAME3
EXTREME_WEATHER_AUTO_CANCEL=true
WEATHER_REFUND_BONUS=true

# Social Features
MAX_FRIENDS_PER_USER=100
MAX_ACTIVE_CHALLENGES=10
CHALLENGE_EXPIRY_HOURS=72

# === DEPLOYMENT SETTINGS ===
# Production deployment
WORKERS=4  # Increase for production
WORKER_CLASS=uvicorn.workers.UvicornWorker
BIND=0.0.0.0:8000
KEEPALIVE=2
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=50
TIMEOUT=30
GRACEFUL_TIMEOUT=30

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=60  # seconds

# === FEATURE FLAGS ===
# Enable/disable features
WEATHER_INTEGRATION_ENABLED=true
SOCIAL_FEATURES_ENABLED=true
TOURNAMENT_SYSTEM_ENABLED=true
CREDIT_SYSTEM_ENABLED=true
BOOKING_SYSTEM_ENABLED=true
ANALYTICS_ENABLED=true

# Experimental Features
AI_RECOMMENDATIONS_ENABLED=false
REAL_TIME_NOTIFICATIONS_ENABLED=false
ADVANCED_ANALYTICS_ENABLED=false

# === TESTING SETTINGS ===
# Test database
TEST_DATABASE_URL=sqlite:///./test_lfa_legacy_go.db

# Test API keys (for development only)
TEST_WEATHER_API_KEY=test_key_for_development
TEST_PAYMENT_ENABLED=false

# Mock Services
MOCK_WEATHER_SERVICE=false
MOCK_PAYMENT_SERVICE=true
MOCK_EMAIL_SERVICE=true
MOCK_PUSH_NOTIFICATIONS=true

# === LOCALIZATION ===
DEFAULT_LANGUAGE=hu  # Hungarian
SUPPORTED_LANGUAGES=hu,en
TIMEZONE=Europe/Budapest

# === BACKUP & MAINTENANCE ===
# Automated backups
AUTO_BACKUP_ENABLED=false
BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=7
BACKUP_LOCATION=/backups

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System under maintenance. Please try again later."

# ====================================
# QUICK SETUP GUIDE
# ====================================
# 
# 1. Copy this file to .env in your backend directory
# 2. Update the following required settings:
#    - SECRET_KEY (generate a secure random key)
#    - JWT_SECRET_KEY (generate a secure random key)
#    - OPENWEATHERMAP_API_KEY (get from openweathermap.org)
# 
# 3. For development, you can use the default SQLite database
# 4. For production:
#    - Set ENVIRONMENT=production
#    - Use PostgreSQL for DATABASE_URL
#    - Set up proper SMTP for email notifications
#    - Configure CORS_ORIGINS for your domain
#    - Set SESSION_COOKIE_SECURE=true
# 
# 5. Optional: Configure payment providers (Stripe/PayPal)
# 6. Optional: Set up Redis for background tasks
# 7. Optional: Configure monitoring (Sentry, Analytics)
#
# ====================================

# === WEATHER API SETUP INSTRUCTIONS ===
#
# To get your OpenWeatherMap API key:
# 1. Go to https://openweathermap.org/api
# 2. Sign up for a free account
# 3. Go to API keys section
# 4. Copy your API key and paste it in OPENWEATHERMAP_API_KEY
# 5. Free tier includes:
#    - 1,000 calls/day
#    - Current weather data
#    - 5-day forecast
#    - Weather alerts
#
# For production use, consider upgrading to a paid plan
# for higher rate limits and additional features.
#
# ====================================